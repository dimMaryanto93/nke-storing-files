apiVersion: apps/v1
kind: Deployment
metadata:
  name: springboot3-logging
  labels:
    app: springboot3-logging
    env: testing
spec:
  replicas: 1
  selector:
    matchLabels:
      app: springboot3-logging
      env: testing
  template:
    metadata:
      name: springboot3-logging
      labels:
        app: springboot3-logging
        env: testing
    spec:
      containers:
        - name: springboot3-logging
          image: dimmaryanto93/com.maryanto.dimas.example-springboot3-logging-file:v1
          imagePullPolicy: IfNotPresent
          volumeMounts:
            - mountPath: /var/logs/springboot-app
              name: logging-path
      volumes:
        - name: logging-path
          persistentVolumeClaim:
            claimName: springboot-log-storage
            readOnly: false
      restartPolicy: Always
